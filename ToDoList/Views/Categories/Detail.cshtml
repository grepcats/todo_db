@{
  Layout = "_Layout";
}

<h1>@Model["category"].GetName()</h1>
<table class="table table-bordered">
  <thead>
    <tr>
      <th>Task</th>
      <th>Due Date <a href='/categories/@Model["category"].GetId()/items/sort-desc'>&#9660;</a> <a href='/categories/@Model["category"].GetId()/items/sort-asc'>&#9650;</a></th>
      <th>Edit</th>
      <th>Delete</th>
    </tr>
  </thead>
  <tbody>
  @foreach (var item in @Model["items"])
  {
    string display = "";
    if (@item.GetFormattedDate() != null)
    {
      display = @item.GetFormattedDate().ToShortDateString();
    }
    else
    {
      display = "never!";
    }
    <tr>
      <td>@item.GetDescription()</td>
      <td>Due @display</td>
      <td><a href="/items/@item.GetId()/update"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></a></td>
      <td><a href="/items/@item.GetId()/delete"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></a></td>
    </tr>
  }
  </tbody>
</table>

<p><a href='/categories/@Model["category"].GetId()/items/new'>Add a new item</a></p>
<p><a href="/">Return Home</a></p>
